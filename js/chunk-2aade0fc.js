(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aade0fc"],{"69cd":function(t,a){function e(t,a){if(a<=0)throw RangeError("size must be greater than zero");this.min=t,this.max=t+a,this.vals=[]}function n({list:t,getProperty:a,minRange:n,maxRange:s,maxBuckets:i,bucketSize:r}){if(!Array.isArray(t)||null!=a&&"function"!=typeof a||null!=n&&"number"!=typeof n||null!=s&&"number"!=typeof s||null!=i&&(null!=r||"number"!=typeof i||i<=0)||null!=r&&(null!=i||"number"!=typeof r||r<=0))throw TypeError("Illegal arguments");const o=null!=n;n=o?n:Number.MAX_SAFE_INTEGER;const u=null!=s;if(s=u?s:Number.MIN_SAFE_INTEGER,o&&u&&s<n)throw RangeError("maxRange must be greater than or equal to minRange");this.getProperty=null!=a?a:t=>t,t.forEach(t=>{const a=this.getProperty(t);o||(n=Math.min(n,a)),u||(s=Math.max(s,a))}),this.min=n,this.max=s;const l=this.max-this.min+1,h=null!=i?Math.min(l,i):l,c=Math.ceil(l/h),m=null!=r?r:c;this.buckets=[];for(let p=this.min;p<=this.max;p+=m)this.buckets.push(new e(p,m));t.forEach(t=>{this.add(t)})}n.prototype.add=function(t){const a=this.getProperty(t);let e=0,n=this.buckets.length-1,s=!1;for(;!s;){let i=Math.floor((e+n)/2);this.buckets[i].min<=a&&this.buckets[i].max>a?(this.buckets[i].vals.push(t),s=!0):this.buckets[i].min>a?n-e<=2?(this.buckets[i-1].vals.push(t),s=!0):n=i:n-e<=2?(this.buckets[i+1].vals.push(t),s=!0):e=i}},t.exports=n},9352:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"home"},[e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{attrs:{cols:"11"}},[e("date-range-dropdown",{attrs:{route:{name:"Data"},callback:t.graphData},on:{change:t.setTimeRange}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{attrs:{cols:"11"}},[e("graph",{attrs:{data:t.data,layout:t.layout,spinner:t.spinner}})],1)],1)],1)},s=[],i=(e("4de4"),e("4160"),e("d81d"),e("d3b7"),e("6062"),e("3ca3"),e("159b"),e("ddb0"),e("6ccf")),r=e("bdbd"),o=e("c1df"),u=e.n(o),l=e("69cd"),h=e.n(l),c={name:"Home",components:{graph:i["a"],"date-range-dropdown":r["a"]},data:function(){return{BUCKETIFY_BUCKET_SIZE:3600,timeRange:{toTime:null,fromTime:null},data:{ready:!1,data:[]},layout:{ready:!1,layout:{title:"Available Endpoints Over Time",xaxis:{type:"date",title:"Date"},yaxis:{title:"Number of Endpoints"}}},spinner:{message:"Generating graph...",show:!0},bubbles:[]}},methods:{setTimeRange:function(t){this.timeRange=t},processEndpoints:function(){var t=this.$store.state.endpoints;this.bubbles=t.map((function(t){return{radius:5,latitude:t.location[0],longitude:t.location[1],name:"M"+t.monitor}}))},processData:function(t,a){this.data.ready=!1;var e=this.$store.state.data,n=new h.a({list:e.filter((function(e){return e.start>=t&&e.start<=a})),getProperty:function(t){return parseFloat(t.start)},bucketSize:this.BUCKETIFY_BUCKET_SIZE}),s=[],i=[];n.buckets.forEach((function(t){var a=new Set(t.vals.map((function(t){return t.monitor})));s.push(a.size),s.push(a.size);var e=u()(t.min,"X");i.push(e.format("YYYY-MM-DD HH:mm:ss"));var n=u()(t.max,"X");i.push(n.format("YYYY-MM-DD HH:mm:ss"))})),this.spinner.message="Generating graph...",this.layout.layout.yaxis.range=[0,Math.max.apply(Math,s)],this.data.data[0]={x:i,y:s,mode:"lines"},this.layout.ready=!0,this.data.ready=!0,this.spinner.show=!1},graphData:function(){var t=this;this.spinner.message="Fetching data...";var a=this.timeRange,e=a.toTime,n=a.fromTime;n=null!=n?n:0,e=null!=e?e:parseFloat(u()().format("X")),this.$store.dispatch("loadData",n).then((function(){t.spinner.message="Processing data...",t.processData(n,e),t.processEndpoints()}))}},mounted:function(){this.graphData()}},m=c,p=e("2877"),d=Object(p["a"])(m,n,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2aade0fc.js.map