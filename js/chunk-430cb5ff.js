(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-430cb5ff"],{"0ab9":function(t,a,e){"use strict";t.exports.numbers=n,t.exports.sum=o,t.exports.mean=s,t.exports.median=u,t.exports.mode=l,t.exports.variance=h,t.exports.sampleVariance=d,t.exports.populationVariance=h,t.exports.stdev=p,t.exports.sampleStdev=m,t.exports.populationStdev=p,t.exports.percentile=y,t.exports.histogram=g;var r=e("7380");function n(t){var a=[];if(null==t)return a;for(var e=0;e<t.length;e++)r(t[e])&&a.push(+t[e]);return a}function i(t){return t.sort((function(t,a){return t-a}))}function o(t){t=n(t);for(var a=0,e=0;e<t.length;e++)a+=t[e];return a}function s(t){return t=n(t),0===t.length?NaN:o(t)/t.length}function u(t){if(t=n(t),0===t.length)return NaN;var a=t.length/2|0;return t=i(t),t.length%2?t[a]:(t[a-1]+t[a])/2}function l(t){if(t=n(t),0===t.length)return NaN;for(var a=NaN,e={},r=0;r<t.length;r++){var i=t[r],o=e[i]||0;o++,e[i]=o}var s=n(Object.keys(e).sort((function(t,a){return e[a]-e[t]})));if(a=s[0],e[s[1]]==e[a]){if(s.length==t.length)return t;var u=new Set([a]),l=e[a];for(r=1;r<s.length;r++){if(e[s[r]]!=l)break;u.add(s[r])}return u}return a}function c(t){t=n(t);for(var a=s(t),e=[],r=0;r<t.length;r++)e.push(Math.pow(t[r]-a,2));return e}function h(t){return s(c(t))}function d(t){var a=c(t);return a.length<=1?NaN:o(a)/(a.length-1)}function p(t){return Math.sqrt(h(t))}function m(t){return Math.sqrt(d(t))}function y(t,a){if(t=n(t),0===t.length||null==a||a<0)return NaN;a>1&&(a=1),t=i(t);var e=t.length*a-.5;if((0|e)===e)return t[e];var r=0|e,o=e-r;return(1-o)*t[r]+o*t[Math.min(r+1,t.length-1)]}function g(t,a){if(null==t)return null;if(t=i(n(t)),0===t.length)return null;null==a&&(a=Math.sqrt(t.length)),a=Math.round(a),a<1&&(a=1);var e=t[0],r=t[t.length-1];e===r&&(e-=.5,r+=.5);var o=r-e,s=(o+.05*o)/a,u=(e+r)/2,l=u-s*Math.floor(a/2);if(a%2!==0)l=u-s/2-s*Math.floor(a/2);for(var c={values:Array(a).fill(0),bins:a,binWidth:s,binLimits:[l,l+s*a]},h=0,d=0;d<t.length;d++){while(t[d]>(h+1)*s+l)h++;c.values[h]++}return c}},"2b1d":function(t,a,e){},"316d":function(t,a,e){"use strict";var r=e("2b1d"),n=e.n(r);n.a},7380:function(t,a){function e(t){return!isNaN(parseFloat(t))&&isFinite(t)}t.exports=e},"78c4":function(t,a,e){"use strict";var r=e("b114"),n=e.n(r);n.a},9399:function(t,a,e){"use strict";function r(t,a){for(var e=0;e<a.length;e++){var r=a[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,a,e){return a&&r(t.prototype,a),e&&r(t,e),t}var i=function(){function t(t){var a=void 0===t?{color:[0,0,0],type:"rgb",precision:3,capitalize:!0}:t,e=a.color,r=void 0===e?[0,0,0]:e,n=a.type,i=void 0===n?"rgb":n,o=a.precision,s=void 0===o?3:o,u=a.capitalize,l=void 0===u||u;this.updateColor(r,i),this.precision=s,this.capitalize=l}return t.prototype.updateColor=function(a,e){var r;if(void 0===e&&(e="rgb"),"string"!=typeof e)throw new TypeError("Parameter 2 must be of type string.");if(e=e.toLowerCase(),!t.validTypes.includes(e))throw new TypeError("Parameter 2 '"+e+"' is not a valid type.");switch(e){case"rgb":r=t.rgbToXyz(a);break;case"hsl":r=t.rgbToXyz(t.hslToRgb(a));break;case"hex":r=t.rgbToXyz(t.hexToRgb(a));break;case"lab":r=t.labToXyz(a);break;case"lchab":r=t.labToXyz(t.lchABToLab(a));break;case"luv":r=t.luvToXyz(a);break;case"lchuv":r=t.luvToXyz(t.lchUVToLuv(a));break;case"xyz":case"default":this._xyz=a,this._rgb=t.xyzToRgb(this._xyz),this._hsl=t.rgbToHsl(this._rgb),this._hex=t.rgbToHex(this._rgb),this._lab=t.xyzToLab(this._xyz),this._lchab=t.labToLCHab(this._lab),this._luv=t.xyzToLuv(this._xyz),this._lchuv=t.luvToLCHuv(this._luv)}"xyz"!==e&&this.updateColor(r,"xyz")},t.rgbToHsl=function(t){var a=t[0]/255,e=t[1]/255,r=t[2]/255,n=Math.max(a,e,r),i=Math.min(a,e,r),o=(n+i)/2,s=0,u=0;return n!==i&&(s=o<.5?(n-i)/(n+i):(n-i)/(2-n-i),u=a===n?(e-r)/(n-i):e===n?2+(r-a)/(n-i):4+(a-e)/(n-i)),[(u=(u*=60)<0?u%360+360:u)+0,0+(s*=100),0+(o*=100)]},t.hslToRgb=function(t){var a=t[0],e=t[1],r=t[2];isFinite(a)||(a=0),isFinite(e)||(e=0),isFinite(r)||(r=0),a=a<0?a%360+360:a,r/=100,e/=100,a/=60;var n=(1-Math.abs(2*r-1))*e,i=n*(1-Math.abs(a%2-1)),o=r-n/2,s=a<1?[n,i,0]:a<2?[i,n,0]:a<3?[0,n,i]:a<4?[0,i,n]:a<5?[i,0,n]:[n,0,i];return s.map((function(t){return Math.round(255*(t+o))+0}))},t.rgbToHex=function(t){function a(t){var a=t.toString(16);return 1===a.length?"0"+a:a}var e=t[0],r=t[1],n=t[2];return"#"+a(e)+a(r)+a(n)},t.hexToRgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,a,e,r){return a+a+e+e+r+r}));var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:null},t.rgbToXyz=function(t){function a(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=a(e),o=a(r),s=a(n);return[100*(.4124*i+.3576*o+.1805*s)+0,100*(.2126*i+.7152*o+.0722*s)+0,100*(.0193*i+.1192*o+.9505*s)+0]},t.xyzToRgb=function(t){function a(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=-.9689307147293197*e+1.8757560608852415*r+.041517523842953964*n,o=.055710120445510616*e+-.2040210505984867*r+1.0569959422543882*n,s=a(3.2406254773200533*e-1.5372079722103187*r-.4986285986982479*n),u=a(i),l=a(o);return[Math.round(255*s)+0,Math.round(255*u)+0,Math.round(255*l)+0]},t.xyzToLab=function(a){function e(t){return 216/24389<t?o(t):(24389/27*t+16)/116}var r=a[0]/t.d65[0],n=a[1]/t.d65[1],i=a[2]/t.d65[2],o=null!=Math.cbrt?Math.cbrt:function(t){return Math.pow(t,1/3)},s=e(r),u=e(n);return[116*u-16,0+500*(s-u),0+200*(u-e(i))]},t.labToXyz=function(a){var e=a[0],r=a[1],n=216/24389,i=24389/27,o=(e+16)/116,s=o-a[2]/200,u=r/500+o,l=Math.pow(u,3)>n?Math.pow(u,3):(116*u-16)/i,c=8<e?Math.pow((e+16)/116,3):e/i,h=Math.pow(s,3)>n?Math.pow(s,3):(116*s-16)/i;return[l*t.d65[0]+0,c*t.d65[1]+0,h*t.d65[2]+0]},t.labToLCHab=function(a){var e=a[1],r=Math.abs(a[2])<t.maxZeroTolerance?0:a[2],n=Math.sqrt(e*e+r*r),i=0<=Math.atan2(r,e)?Math.atan2(r,e)/Math.PI*180:Math.atan2(r,e)/Math.PI*180+360;return[a[0]+0,n+0,0+i]},t.lchABToLab=function(t){var a=t[1],e=t[2],r=a*Math.cos(e/180*Math.PI),n=a*Math.sin(e/180*Math.PI);return[t[0]+0,0+r,0+n]},t.xyzToLuv=function(a){var e=a[0],r=a[1],n=a[2],i=t.d65[0],o=t.d65[1],s=t.d65[2],u=9*o/(i+15*o+3*s),l=4*i/(i+15*o+3*s);if(0===e&&0===r&&0===n)return[0,0,0];var c=9*r/(e+15*r+3*n),h=4*e/(e+15*r+3*n),d=r/o,p=null!=Math.cbrt?Math.cbrt:function(t){return Math.pow(t,1/3)},m=216/24389<d?116*p(d,1/3)-16:24389/27*d;return[0+m,0+13*m*(h-l),0+13*m*(c-u)]},t.luvToXyz=function(a){var e=a[0],r=a[1],n=a[2],i=t.d65[0],o=t.d65[1],s=t.d65[2],u=9*o/(i+15*o+3*s),l=4*i/(i+15*o+3*s),c=8<e?Math.pow((e+16)/116,3):e/(24389/27),h=-5*c,d=(52*e/(r+13*e*l)-1)/3||0,p=((c*(39*e/(n+13*e*u)-5)||0)-h)/(d- -1/3);return[100*p+0,100*c+0,100*(p*d+h)+0]},t.luvToLCHuv=function(a){var e=a[0],r=Math.abs(a[1])<t.maxZeroTolerance?0:a[1],n=Math.abs(a[2])<t.maxZeroTolerance?0:a[2],i=Math.sqrt(r*r+n*n),o=180*Math.atan2(n,r)/Math.PI;return[e+0,i+0,(o=0<=o?o:o+360)+0]},t.lchUVToLuv=function(t){var a=t[0],e=t[1],r=t[2]/180*Math.PI;return[a+0,0+e*Math.cos(r),0+e*Math.sin(r)]},t.luminance=function(a,e){if(void 0===e&&(e="rgb"),"string"!=typeof e)throw new TypeError("Parameter 2 must be of type string.");if(e=e.toLowerCase(),!t.validTypes.includes(e))throw new TypeError("Parameter 2 '"+e+"' is not a valid type.");"rgb"!==e&&(a=new t({color:a,type:e}).rgb);for(var r=0;r<a.length;r++)a[r]/=255,a[r]<.03928?a[r]/=12.92:a[r]=Math.pow((a[r]+.055)/1.055,2.4);return.2126*a[0]+.7152*a[1]+.0722*a[2]},t.random=function(){return new t({color:[255,255,255].map((function(t){return Math.round(t*Math.random())}))})},t.randomFromString=function(a){function e(t){for(var a=4294967295,e=0;e<t.length;e++){var r=4026531840&(a=(a<<4)+t.charCodeAt(e));0!=r&&(a^=r>>>24,a^=r)}return Math.abs(a)}void 0===a&&(a="");var r=e(a),n=e(a+r);return new t({color:[r%256,n%256,e(a+n)%256]})},t.randomOfType=function(a){if(void 0===a&&(a="rgb"),"string"!=typeof a)throw new TypeError("Parameter 1 must be of type string.");if(a=a.toLowerCase(),!t.validTypes.includes(a))throw new TypeError("Parameter 1 '"+a+"' is not a valid type.");return t.random()[a]},t.randomOfTypeFormatted=function(a,e,r){if(void 0===a&&(a="rgb"),void 0===e&&(e=!0),void 0===r&&(r=3),"string"!=typeof a)throw new TypeError("Parameter 1 must be of type string.");if(a=a.toLowerCase(),!t.validTypes.includes(a))throw new TypeError("Parameter 1 '"+a+"' is not a valid type.");var n=t.random();return n.capitalize=e,n.precision=r,n[a+"String"]},t.contrastTextColor=function(a,e){if(void 0===e&&(e="rgb"),"string"!=typeof e)throw new TypeError("Parameter 2 must be of type string.");if(e=e.toLowerCase(),!t.validTypes.includes(e))throw new TypeError("Parameter 2 '"+e+"' is not a valid type.");var r=t.contrastRatio(new t({color:[255,255,255]}),new t({color:a,type:e}));return t.contrastRatio(new t({color:[0,0,0]}),new t({color:a,type:e}))<r?"#FFFFFF":"#000000"},t.contrastRatio=function(a,e){if(!(a instanceof t))throw new TypeError("Parameter 1 must be of type Color.");if(!(e instanceof t))throw new TypeError("Parameter 2 must be of type Color.");var r=t.luminance(a.rgb)+.05,n=t.luminance(e.rgb)+.05;return r<n?n/r:r/n},n(t,[{key:"rgb",get:function(){return this._rgb},set:function(t){this.updateColor(t,"rgb")}},{key:"rgbString",get:function(){var t="RGB("+this.rgb.join(", ")+")";return this.capitalize?t.toUpperCase():t.toLowerCase()}},{key:"hsl",get:function(){return this._hsl},set:function(t){this.updateColor(t,"hsl")}},{key:"hslString",get:function(){var t=this,a="HSL("+this.hsl.map((function(a){return a.toFixed(t.precision)})).join(", ")+")";return this.capitalize?a.toUpperCase():a.toLowerCase()}},{key:"hex",get:function(){return this._hex},set:function(t){this.updateColor(t,"hex")}},{key:"hexString",get:function(){var t=this._hex;return this.capitalize?t.toUpperCase():t.toLowerCase()}},{key:"xyz",get:function(){return this._xyz},set:function(t){this.updateColor(t,"xyz")}},{key:"xyzString",get:function(){var t=this,a="XYZ("+this.xyz.map((function(a){return a.toFixed(t.precision)})).join(", ")+")";return this.capitalize?a.toUpperCase():a.toLowerCase()}},{key:"lab",get:function(){return this._lab},set:function(t){this.updateColor(t,"lab")}},{key:"labString",get:function(){var t=this,a="LAB("+this.lab.map((function(a){return a.toFixed(t.precision)})).join(", ")+")";return this.capitalize?a.toUpperCase():a.toLowerCase()}},{key:"lchab",get:function(){return this._lchab},set:function(t){this.updateColor(t,"lchab")}},{key:"lchabString",get:function(){var t=this,a=this.lchab.map((function(a){return a.toFixed(t.precision)}));return this.capitalize?"LCHab("+a.join(", ")+")":"lchAB("+a.join(", ")+")"}},{key:"luv",get:function(){return this._luv},set:function(t){this.updateColor(t,"luv")}},{key:"luvString",get:function(){var t=this,a="LUV("+this.luv.map((function(a){return a.toFixed(t.precision)})).join(", ")+")";return this.capitalize?a.toUpperCase():a.toLowerCase()}},{key:"lchuv",get:function(){return this._lchuv},set:function(t){this.updateColor(t,"lchuv")}},{key:"lchuvString",get:function(){var t=this,a=this.lchuv.map((function(a){return a.toFixed(t.precision)}));return this.capitalize?"LCHuv("+a.join(", ")+")":"lchUV("+a.join(", ")+")"}}]),t}();i.validTypes=["rgb","hex","hsl","xyz","lab","lchab","luv","lchuv"],i.d65=[95.05,100,108.9],i.maxZeroTolerance=Math.pow(10,-12),t.exports=i},b114:function(t,a,e){},c3c0:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"monitors"},[e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{attrs:{cols:"11"}},[e("date-range-dropdown",{attrs:{callback:t.processHeatmapData,route:{name:"Monitors",params:{id:this.params.id}}},on:{change:t.setTimeRange}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("heatmap",{attrs:{spinner:t.heatmapSpinner,dataSummary:t.dataSummary,legend:"",embedIDURL:function(t){return"<a href='#/monitors/"+t+"'>"+t+"</a>"}}})],1)],1),t.monitorIDs?e("div",[e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.latencyTimeData,layout:t.latencyTimeLayout,spinner:t.latencyTimeSpinner}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.latencyHourlyData,layout:t.latencyHourlyLayout,spinner:t.latencyHourlySpinner}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.bandwidthTimeData,layout:t.bandwidthTimeLayout,spinner:t.bandwidthTimeSpinner}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.bandwidthHourlyData,layout:t.bandwidthHourlyLayout,spinner:t.bandwidthHourlySpinner}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.rttTimeData,layout:t.rttTimeLayout,spinner:t.rttTimeSpinner}})],1)],1),e("ac-grid",{attrs:{cols:"12","align-h":"center"}},[e("ac-col",{staticClass:"graph-row",attrs:{cols:"11"}},[e("graph",{attrs:{data:t.rttHourlyData,layout:t.rttHourlyLayout,spinner:t.rttHourlySpinner}})],1)],1)],1):t._e()],1)},n=[],i=(e("cb29"),e("4de4"),e("4160"),e("caad"),e("d81d"),e("13d5"),e("b0c0"),e("a9e3"),e("b64b"),e("07ac"),e("2532"),e("159b"),e("96cf"),e("1da1")),o=e("0ab9"),s=e.n(o),u=e("6ccf"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"wrapper",staticClass:"status-heatmap"},[e("div",{ref:"graphMenu",staticClass:"graph-menu"},[t.legend?e("div",{staticClass:"legend-wrapper"},[e("div",{class:{legend:!0,show:t.showFullLegend}},t._l(t.statusTypeList,(function(a){return e("div",{key:a.type,class:["key-element",a.hidden?"disabled":""],on:{click:function(e){return t.toggleHiddenStatus(a.type)}}},[e("div",{staticClass:"key-color",style:{backgroundColor:a.color}}),e("div",{staticClass:"key-label"},[t._v(t._s(a.type))])])})),0),e("div",{staticClass:"legend-toggle",on:{click:function(a){t.showFullLegend=!t.showFullLegend}}},[t._v(t._s(t.legendToggleText))])]):t._e()]),e("graph",{ref:"graphContainer",staticClass:"graphContainer",attrs:{layout:t.graphLayout,data:t.graphData,config:t.graphConfig,spinner:t.tempSpinner}})],1)},c=[],h=(e("d3b7"),{props:{dataSummary:{type:Object,default:function(){return{}}},sort:{type:Boolean,default:!1},legend:{type:Boolean,default:!1},spinner:{type:Object,default:function(){return{show:!0,message:"Generating graph..."}}},embedIDURL:{type:Function,default:function(t){return t}}},data:function(){return{BUCKETIFY_BUCKET_SIZE:30,HEATMAP_MIN_HEIGHT:120,ADJUSTED_BAR_HEIGHT:50,graphGenerated:!1,sortMode:"earliestFirstUpdate",sortFunctions:{earliestFirstUpdate:function(t,a){return t.minTimestamp-a.minTimestamp},latestFirstUpdate:function(t,a){return a.minTimestamp-t.minTimestamp},lastUpdated:function(t,a){return a.maxTimestamp-t.maxTimestamp},parentID:function(t,a){return t.id>a.id?1:-1},parentIDReverse:function(t,a){return t.id<a.id?1:-1}},visibleStatusTypes:[],statusTypeList:[],graphConfig:{ready:!1,config:{responsive:!0,displayModeBar:!1}},graphLayout:{ready:!1,layout:{xaxis:{type:"date",side:"top"},yaxis:{title:{}},margin:{b:20,t:50,r:10,pad:0},font:{family:"sans-serif",size:16,color:"#333"}}},tempSpinner:{show:!0,message:"Generating graph..."},graphData:{ready:!1,data:[]},showFullLegend:!1}},methods:{updateEmbedIDURL:function(t){if("function"!==typeof t)throw TypeError("Argument 'embedFunction' must be of type function");this.embedIDURL=t},sortFunction:function(){return this.sortFunctions[this.sortMode]},scale:function(t,a,e,r,n){return(t-a)*(n-r)/(e-a)+r},toggleHiddenStatus:function(t){var a=this.dataSummary.statusTypes;null!=a[t]&&(a[t].hidden=!a[t].hidden,this.updateStatusTypeList(),this.graph(this.dataSummary))},graph:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.graphLayout.layout.yaxis.title.text=t.type+" ID",a.graphLayout.layout.xaxis.range=[t.startDate,t.endDate],a.graphLoading=!0,a.graphData.ready=!1,a.graphLayout.ready=!1,a.graphConfig.ready=!1,a.BUCKETIFY_BUCKET_SIZE=(a.dataSummary.maxTimestamp-a.dataSummary.minTimestamp)*(3.4722*Math.pow(10,-4)),e.next=9,a.$nextTick();case 9:return a.graphContainer.$el.style.height=Math.max(a.ADJUSTED_BAR_HEIGHT*t.groupedData.length,a.HEATMAP_MIN_HEIGHT)+"px",r=new Promise((function(e,r){t.groupedData.sort(a.sortFunction()).reverse();var n=JSON.parse(JSON.stringify(t.groupedData));t.parentIDs=n.map((function(t){return t.id}));var i=a.statusTypeList;a.updateHeatmapCharts().then((function(r){a.tempSpinner.message="Generating graph...",a.graphData.data=[],i.forEach((function(e,n){var i=[];i.push(["0.0",e.color]),i.push(["1.0",e.color]),a.graphData.data[n]={x:t.dates,y:t.parentIDs.map((function(t){return a.embedIDURL(t)})),z:r.statusChart[e.type],type:"heatmap",hoverongaps:!1,colorscale:i,showscale:!1,text:r.statusLabel[e.type],hoverinfo:"text",ygap:.75}})),a.graphData.ready=!0,a.graphLayout.ready=!0,a.graphConfig.ready=!0,a.graphGenerated=!0,e()})).catch((function(t){r(t)}))})).finally((function(){a.graphLoading=!1,a.tempSpinner.show=!1})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))()},updateHeatmapCharts:function(){var t=this,a=this,e=new Promise((function(e,r){if(Worker){var n=new Worker("workers/update-heatmap-charts.worker.js");n.addEventListener("message",(function(r){var i=r.data;"finished"==i.status?(n.terminate(),a.dataSummary.dates=i.dates,e({statusChart:i.statusChart,statusLabel:i.statusLabel})):"update"==i.status&&(t.tempSpinner.message="Processing data (".concat(i.body,"%)"))})),n.postMessage({dataSummary:a.dataSummary,visibleStatusTypes:a.visibleStatusTypes,BUCKETIFY_BUCKET_SIZE:a.BUCKETIFY_BUCKET_SIZE})}else r(Error("Web Workers not enabled"))}));return e},updateStatusTypeList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.visibleStatusTypes=null,t.statusTypeList=null,a.next=4,t.$nextTick();case 4:t.statusTypeList=Object.values(t.dataSummary.statusTypes||{}),t.visibleStatusTypes=t.statusTypeList.filter((function(t){return!t.hidden}));case 6:case"end":return a.stop()}}),a)})))()}},computed:{graphContainer:function(){return this.$refs.graphContainer},legendToggleText:function(){return this.showFullLegend?" - Show Less":"+ Show More"}},components:{graph:u["a"]},watch:{spinner:{immediate:!0,deep:!0,handler:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$nextTick();case 2:a.tempSpinner.show=t.show,null!=t.message&&(a.tempSpinner.message=t.message);case 4:case"end":return e.stop()}}),e)})))()}},dataSummary:{immediate:!0,deep:!0,handler:function(t){this.updateStatusTypeList(),t.ready&&this.graph(t)}}}}),d=h,p=(e("78c4"),e("2877")),m=Object(p["a"])(d,l,c,!1,null,null,null),y=m.exports,g=e("bdbd"),f=e("c1df"),b=e.n(f),T=e("9399"),v=e.n(T),w={data:function(){return{timeRange:{toTime:null,fromTime:null},defaultTitle:"Monitors Overview",title:"",dataSummary:{ready:!1},heatmapSpinner:{show:!0,message:"Generating graph..."},latencyHourlySpinner:{show:!0,message:"Generating graph..."},latencyHourlyData:{ready:!1,data:[]},latencyHourlyLayout:{ready:!1,layout:{title:"Average DNS Query Latency by Hour",xaxis:{title:"Hour of Day (UTC)",range:[0,23],dtick:1},yaxis:{title:"Average Endpoint DNS Query Latency (ms)"}}},latencyTimeSpinner:{show:!0,message:"Generating graph..."},latencyTimeData:{ready:!1,data:[]},latencyTimeLayout:{ready:!1,layout:{title:"DNS Query Latency to Different DNS Resolvers over Time",xaxis:{title:"Date",type:"date"},yaxis:{title:"Endpoint DNS Query Latency (ms)"}}},bandwidthTimeSpinner:{show:!0,message:"Generating graph..."},bandwidthTimeData:{ready:!1,data:[]},bandwidthTimeLayout:{ready:!1,layout:{title:"Available Bandwidth & Bottleneck Bandwidth to Controller over Time",xaxis:{title:"Date",type:"date"},yaxis:{title:"Measured Bandwidth (Mbps)"}}},bandwidthHourlySpinner:{show:!0,message:"Generating graph..."},bandwidthHourlyData:{ready:!1,data:[]},bandwidthHourlyLayout:{ready:!1,layout:{title:"Average Available Bandwidth & Bottleneck Bandwidth to Controller by Hour",xaxis:{title:"Hour of Day (UTC)",range:[0,23],dtick:1},yaxis:{title:"Average Measured Bandwidth (Mbps)"}}},rttTimeSpinner:{show:!0,message:"Generating graph..."},rttTimeData:{ready:!1,data:[]},rttTimeLayout:{ready:!1,layout:{title:"Endpoint Controller RTT over Time",xaxis:{title:"Date",type:"date"},yaxis:{title:"Endpoint Controller RTT (ms)"}}},rttHourlySpinner:{show:!0,message:"Generating graph..."},rttHourlyData:{ready:!1,data:[]},rttHourlyLayout:{ready:!1,layout:{title:"Average Endpoint Controller RTT by Hour",xaxis:{title:"Hour of Day (UTC)",range:[0,23],dtick:1},yaxis:{title:"Average Endpoint Controller RTT (ms)"}}}}},components:{heatmap:y,"date-range-dropdown":g["a"],graph:u["a"]},computed:{params:function(){return this.$route.params},query:function(){return this.$route.query},rangeDropdownOptions:function(){return Object.values(this.rangeValues)},monitorIDs:function(){return null!=this.params.id?[this.params.id]:null}},methods:{setTimeRange:function(t){this.timeRange=t},setTitle:function(){null!=this.params.id?this.title="Monitor "+this.params.id:this.title=this.defaultTitle},processHeatmapData:function(t,a,e){var r=this;this.heatmapSpinner={show:!0,message:"Sorting data..."};var n=this.dataSummary;n.ready=!1,n.minTimestamp=Number.MAX_VALUE,n.maxTimestamp=0,n.type="Monitor",n.statusTypes={};var i=0,o=Object.values(t.reduce((function(o,s){r.heatmapSpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++;var u="M"+s.monitor,l=Math.max(a,s.start),c=Math.min(e,s.end);l>n.maxTimestamp&&(n.maxTimestamp=l),l<n.minTimestamp&&(n.minTimestamp=l),c>n.maxTimestamp&&(n.maxTimestamp=c),c<n.minTimestamp&&(n.minTimestamp=c),null==o[u]&&(o[u]={id:u,minTimestamp:Math.min(l,c),maxTimestamp:Math.max(l,c),records:{}}),l>o[u].maxTimestamp&&(o[u].maxTimestamp=l),l<o[u].minTimestamp&&(o[u].minTimestamp=l),c>o[u].maxTimestamp&&(o[u].maxTimestamp=c),c<o[u].minTimestamp&&(o[u].minTimestamp=c);var h=s.exp;if(o[u].records[h]=o[u].records[h]||[],o[u].records[h].push({status:h,success:1===s.success,exp:s.exp,ip:s.ip,timestamp:l}),o[u].records[h].push({status:null,success:1===s.success,exp:s.exp,ip:s.ip,timestamp:c}),null==n.statusTypes[h]){var d=v.a.random();n.statusTypes[h]={type:h,hidden:!1,color:d.rgbString.toLowerCase()}}return o}),{}));n.minTimestamp=n.minTimestamp==Number.MAX_VALUE?a:n.minTimestamp,n.maxTimestamp=0==n.maxTimestamp?e:n.maxTimestamp,n.startDate=b()(n.minTimestamp,"X").format("YYYY-MM-DD HH:mm:ss"),n.endDate=b()(n.maxTimestamp,"X").format("YYYY-MM-DD HH:mm:ss"),n.groupedData=o,n.ready=!0},processLatencyHourlyData:function(t){var a=this;this.latencyHourlySpinner={show:!0,message:"Sorting data..."},this.latencyHourlyData.ready=!1,this.latencyHourlyLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"latency"==t.category})).map((function(t){return t.name})),r={},n=function(t,a){if(t){r[a]||(r[a]=new Array(24).fill(),r[a]=r[a].map((function(){return[]})));var e=t.end_stime/Math.pow(10,6),n=t.end_rtime/Math.pow(10,6),i=n-e,o=b()(e,"x").utc().hours();isNaN(o)||isNaN(i)||r[a][o].push(i)}},i=0;t.forEach((function(r){e.includes(r.exp)&&("DNS_local"==r.exp?n(r.data.rst_list[0],r.exp):n(r.data,r.exp)),a.latencyHourlySpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++})),Object.keys(r).forEach((function(t){var a=null;r[t]=r[t].map((function(t){var e=t.filter((function(t){return!!t}));if(0==e.length)return a;var r=s.a.mean(e);return a=r,r}))})),this.latencyHourlySpinner.message="Generating graph...",this.latencyHourlyData.data=[];var o=2,u=new Array(24).fill().map((function(t,a){return a}));Object.keys(r).forEach((function(t){var e=v.a.random();a.latencyHourlyData.data.push({x:u,y:r[t],name:t,mode:"lines+markers",line:{color:e.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:e.rgbString,width:o}}})})),this.latencyHourlyData.ready=!0,this.latencyHourlyLayout.ready=!0,this.latencyHourlySpinner.show=!1},processLatencyTimeData:function(t){var a=this;this.latencyTimeSpinner={show:!0,message:"Sorting data..."},this.latencyTimeData.ready=!1,this.latencyTimeLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"latency"==t.category})).map((function(t){return t.name})),r={},n=function(t,a){if(t){r[a]||(r[a]=[]);var e=t.end_stime/Math.pow(10,6),n=t.end_rtime/Math.pow(10,6),i=n-e,o=b()(e,"x").utc().format("YYYY-MM-DD HH:mm:ss.SS");isNaN(i)||r[a].push({timestamp:o,latency:i,sendTime:e})}},i=0;t.forEach((function(r){e.includes(r.exp)&&("DNS_local"==r.exp?n(r.data.rst_list[0],r.exp):n(r.data,r.exp)),a.latencyTimeSpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++})),this.latencyTimeSpinner.message="Generating graph...",this.latencyTimeData.data=[];var o=2;Object.keys(r).forEach((function(t){r[t].sort((function(t,a){return t.sendTime-a.sendTime}));var e=v.a.random();a.latencyTimeData.data.push({x:r[t].map((function(t){return t.timestamp})),y:r[t].map((function(t){return t.latency})),name:t,mode:"lines+markers",line:{color:e.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:e.rgbString,width:o}}})})),this.latencyTimeData.ready=!0,this.latencyTimeLayout.ready=!0,this.latencyTimeSpinner.show=!1},processBandwidthTimeData:function(t){var a=this;this.bandwidthTimeSpinner={show:!0,message:"Sorting data..."},this.bandwidthTimeData.ready=!1,this.bandwidthTimeLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"bandwidth"==t.category})).map((function(t){return t.name})),r={},n=function(t){r.avail_band=r.avail_band||[],r.btnk_band=r.btnk_band||[];var a=t.ctrl_stime/Math.pow(10,6),e=b()(a,"x").utc().format("YYYY-MM-DD HH:mm:ss.SS");t.avail_band&&t.btnk_band&&(r.avail_band.push({bandwidth:t.avail_band/Math.pow(10,6),timestamp:e,sendTime:a}),r.btnk_band.push({bandwidth:t.btnk_band/Math.pow(10,6),timestamp:e,sendTime:a}))},i=0;t.forEach((function(r){e.includes(r.exp)&&n(r.data),a.bandwidthTimeSpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++})),this.bandwidthTimeSpinner.message="Generating graph...",this.bandwidthTimeData.data=[];var o=2;Object.keys(r).forEach((function(t){r[t].sort((function(t,a){return t.sendTime-a.sendTime}));var e=v.a.random();a.bandwidthTimeData.data.push({x:r[t].map((function(t){return t.timestamp})),y:r[t].map((function(t){return t.bandwidth})),name:t,mode:"lines+markers",line:{color:e.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:e.rgbString,width:o}}})})),this.bandwidthTimeData.ready=!0,this.bandwidthTimeLayout.ready=!0,this.bandwidthTimeSpinner.show=!1},processBandwidthHourlyData:function(t){var a=this;this.bandwidthHourlySpinner={show:!0,message:"Sorting data..."},this.bandwidthHourlyData.ready=!1,this.bandwidthHourlyLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"bandwidth"==t.category})).map((function(t){return t.name})),r={},n=function(t){r.avail_band||(r.avail_band=new Array(24).fill(),r.avail_band=r.avail_band.map((function(){return[]}))),r.btnk_band||(r.btnk_band=new Array(24).fill(),r.btnk_band=r.btnk_band.map((function(){return[]})));var a=t.ctrl_stime/Math.pow(10,6),e=b()(a,"x").utc().hours();t.avail_band&&t.btnk_band&&(r.avail_band[e].push(t.avail_band/Math.pow(10,6)),r.btnk_band[e].push(t.btnk_band/Math.pow(10,6)))},i=0;t.forEach((function(r){e.includes(r.exp)&&n(r.data),a.bandwidthHourlySpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++}));var o={},u={};Object.keys(r).forEach((function(t){var a=null,e=null;o[t]=r[t].map((function(t){var e=t.filter((function(t){return!!t}));if(0==e.length)return a;var r=s.a.mean(e);return a=r,r})),u[t]=r[t].map((function(t){var a=t.filter((function(t){return!!t}));if(0==a.length)return e;var r=s.a.sampleStdev(a);return e=r,r}))})),this.bandwidthHourlySpinner.message="Generating graph...",this.bandwidthHourlyData.data=[];var l=2,c=new Array(24).fill().map((function(t,a){return a}));Object.keys(o).forEach((function(t){var e=v.a.random();a.bandwidthHourlyData.data.push({x:c,y:o[t],error_y:{type:"data",array:u[t],visible:!0},name:t,mode:"lines+markers",line:{color:e.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:e.rgbString,width:l}}})})),this.bandwidthHourlyData.ready=!0,this.bandwidthHourlyLayout.ready=!0,this.bandwidthHourlySpinner.show=!1},processRTTTimeData:function(t){var a=this;this.rttTimeSpinner={show:!0,message:"Sorting data..."},this.rttTimeData.ready=!1,this.rttTimeLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"rtt"==t.category})).map((function(t){return t.name})),r=[],n=function(t){if(t){var a=t.ctrl_stime/Math.pow(10,6),e=t.ctrl_rtime/Math.pow(10,6),n=e-a,i=b()(a,"x").utc().format("YYYY-MM-DD HH:mm:ss.SS");isNaN(n)||r.push({timestamp:i,rtt:n,sendTime:a})}},i=0;t.forEach((function(r){e.includes(r.exp)&&("DNS_local"==r.exp?n(r.data.rst_list[0]):n(r.data)),a.rttTimeSpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++})),this.rttTimeSpinner.message="Generating graph...",this.rttTimeData.data=[];var o=2,s=v.a.random();r.sort((function(t,a){return t.sendTime-a.sendTime})),this.rttTimeData.data.push({x:r.map((function(t){return t.timestamp})),y:r.map((function(t){return t.rtt})),name:"RTT",mode:"lines+markers",line:{color:s.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:s.rgbString,width:o}}}),this.rttTimeData.ready=!0,this.rttTimeLayout.ready=!0,this.rttTimeSpinner.show=!1},processRTTHourlyData:function(t){var a=this;this.rttHourlySpinner={show:!0,message:"Sorting data..."},this.rttHourlyData.ready=!1,this.rttHourlyLayout.ready=!1;var e=this.$store.state.experiments.filter((function(t){return"rtt"==t.category})).map((function(t){return t.name})),r=new Array(24).fill().map((function(){return[]})),n=function(t){if(t){var a=t.ctrl_stime/Math.pow(10,6),e=t.ctrl_rtime/Math.pow(10,6),n=e-a,i=b()(a,"x").utc().hours();isNaN(i)||isNaN(n)||r[i].push(n)}},i=0;t.forEach((function(r){e.includes(r.exp)&&("DNS_local"==r.exp?n(r.data.rst_list[0]):n(r.data)),a.rttHourlySpinner={show:!0,message:"Sorting data (".concat(Math.ceil(i/t.length*100),"%)")},i++}));var o=null,u=null,l=r.map((function(t){var a=t.filter((function(t){return!!t}));if(0==a.length)return o;var e=s.a.mean(a);return o=e,e})),c=r.map((function(t){var a=t.filter((function(t){return!!t}));if(0==a.length)return u;var e=s.a.sampleStdev(a);return u=e,e}));this.rttHourlySpinner.message="Generating graph...",this.rttHourlyData.data=[];var h=2,d=new Array(24).fill().map((function(t,a){return a})),p=v.a.random();this.rttHourlyData.data.push({x:d,y:l,error_y:{type:"data",array:c,visible:!0},name:"Avg. RTT",mode:"lines+markers",line:{color:p.rgbString},marker:{color:"rgba(0,0,0,0)",line:{color:p.rgbString,width:h}}}),this.rttHourlyData.ready=!0,this.rttHourlyLayout.ready=!0,this.rttHourlySpinner.show=!1},initGraphData:function(){var t=this;this.heatmapSpinner={show:!0,message:"Fetching data..."},this.latencyHourlySpinner={show:!0,message:"Fetching data..."},this.latencyTimeSpinner={show:!0,message:"Fetching data..."},this.bandwidthTimeSpinner={show:!0,message:"Fetching data..."},this.bandwidthHourlySpinner={show:!0,message:"Fetching data..."},this.rttTimeSpinner={show:!0,message:"Fetching data..."},this.rttHourlySpinner={show:!0,message:"Fetching data..."};var a=this.timeRange,e=a.toTime,r=a.fromTime;r=null!=r?r:0,e=null!=e?e:parseFloat(b()().format("X")),this.$store.dispatch("loadData",r).then((function(){var a=t.$store.state.data.filter((function(a,n){if(a.monitor){var i=("M"+a.monitor).toLowerCase();return t.heatmapSpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.latencyHourlySpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.latencyTimeSpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.bandwidthTimeSpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.bandwidthHourlySpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.rttTimeSpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},t.rttHourlySpinner={show:!0,message:"Filtering data (".concat(Math.ceil(n/t.$store.state.data.length*100),"%)")},(null==t.monitorIDs||Array.isArray(t.monitorIDs)&&t.monitorIDs.map((function(t){return t.toLowerCase()})).includes(i))&&(a.start>=r&&a.start<=e||a.end>=r&&a.end<=e)}return!1}));t.processHeatmapData(a,r,e),t.monitorIDs&&(t.processLatencyHourlyData(a),t.processLatencyTimeData(a),t.processBandwidthTimeData(a),t.processBandwidthHourlyData(a),t.processRTTTimeData(a),t.processRTTHourlyData(a))}))}},watch:{params:{handler:function(){this.setTitle()},immediate:!0},monitorIDs:{immediate:!0,deep:!0,handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$nextTick();case 2:t.initGraphData();case 3:case"end":return a.stop()}}),a)})))()}}}},x=w,S=(e("316d"),Object(p["a"])(x,r,n,!1,null,"69b8dbc2",null));a["default"]=S.exports}}]);
//# sourceMappingURL=chunk-430cb5ff.js.map